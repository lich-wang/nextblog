<script>
    document.getElementById('fetch-btn').addEventListener('click', function() {
        const url = document.getElementById('url-input').value;
    
        if (url) {
            const xhr = new XMLHttpRequest();
            xhr.open('GET', url, true);
            xhr.withCredentials = true;
    
            xhr.onreadystatechange = function() {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    const status = xhr.status;
                    const finalUrl = xhr.responseURL;
    
                    if (status >= 200 && status < 300) {
                        document.getElementById('result').innerText = 'Final URL after redirects: ' + finalUrl;
                    } else {
                        document.getElementById('result').innerText = 'Response Status: ' + status + '\nFinal URL: ' + finalUrl;
                    }
                }
            };
    
            xhr.onerror = function(event) {
                console.error('Error:', event);
                document.getElementById('result').innerText = 'Error Type: ' + event.type + '\nStatus: ' + xhr.status + '\nResponse URL: ' + xhr.responseURL;
            };
    
            xhr.send();
        } else {
            document.getElementById('result').innerText = 'Please enter a valid URL.';
        }
    });
    </script>
    